{"version":3,"file":"calculator.min.js","sources":["../modular-js/debug-utils.js","../modular-js/api.js","../modular-js/map-handler.js","../modular-js/form-handler.js","../modular-js/address-handler.js","../modular-js/utils.js","../modular-js/coordinates.js","../modular-js/product-manager.js","../modular-js/payment-calculator.js","../modular-js/event-listeners.js","../modular-js/index.js","../modular-js/display-handler.js"],"sourcesContent":["// Debug utilities\nlet debugLevel = 0;\n\nexport const debugUtils = {\n    setLevel(level) {\n        debugLevel = level;\n    },\n\n    getLevel() {\n        return debugLevel;\n    },\n\n    log(level, category, message, data = null) {\n        if (debugLevel >= level) {\n            const timestamp = new Date().toISOString();\n            const dataString = data ? JSON.stringify(data, null, 2) : '';\n            console.log(`[${timestamp}] [${category}] ${message} ${dataString}`);\n            \n            // Update debug UI if it exists\n            this.updateDebugUI(category, message, data);\n        }\n    },\n\n    error(category, message, data = null) {\n        this.log(1, category, `ERROR: ${message}`, data);\n    },\n\n    warn(category, message, data = null) {\n        this.log(2, category, `WARNING: ${message}`, data);\n    },\n\n    info(category, message, data = null) {\n        this.log(3, category, message, data);\n    },\n\n    debug(category, message, data = null) {\n        this.log(4, category, message, data);\n    },\n\n    initializeDebugUI() {\n        if (!document.getElementById('debugPanel')) {\n            const debugPanel = document.createElement('div');\n            debugPanel.id = 'debugPanel';\n            debugPanel.style.cssText = `\n                position: fixed;\n                bottom: 0;\n                right: 0;\n                width: 300px;\n                height: 200px;\n                background: rgba(0, 0, 0, 0.8);\n                color: #fff;\n                padding: 10px;\n                font-family: monospace;\n                font-size: 12px;\n                overflow-y: auto;\n                z-index: 9999;\n            `;\n            document.body.appendChild(debugPanel);\n        }\n    },\n\n    updateDebugUI(category, message, data) {\n        const debugPanel = document.getElementById('debugPanel');\n        if (debugPanel) {\n            const entry = document.createElement('div');\n            entry.innerHTML = `[${category}] ${message}`;\n            if (data) {\n                entry.title = JSON.stringify(data, null, 2);\n            }\n            debugPanel.appendChild(entry);\n            \n            // Keep only last 50 messages\n            while (debugPanel.children.length > 50) {\n                debugPanel.removeChild(debugPanel.firstChild);\n            }\n            \n            // Auto-scroll to bottom\n            debugPanel.scrollTop = debugPanel.scrollHeight;\n        }\n    }\n};\n","// API endpoints\nexport const API_ENDPOINTS = {\n    possibleAddress: \"https://hex-api.climartis.ch/api/getPossibleAddress\",\n    houseInfo: \"https://hex-api.climartis.ch/api/getHouseInfo\",\n    calculation: \"https://hex-api.climartis.ch/api/getCalculation\"\n};\n\n// API fetch functions\nexport async function fetchDataGet(url) {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(`HTTP error, status = ${response.status}`);\n    return await response.json();\n}\n\nexport async function fetchDataPost(url, params) {\n    const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(params),\n    });\n    if (!response.ok) throw new Error(`HTTP error, status = ${response.status}`);\n    return await response.json();\n}\n","import { debugUtils } from './debug-utils.js';\n\nlet map = null;\nlet marker = null;\n\nexport function initMap() {\n    debugUtils.info(\"Map\", \"Initializing Google Map\");\n\n    try {\n        const defaultLocation = { lat: 46.8182, lng: 8.2275 }; // Coordinates of Switzerland\n        const mapOptions = {\n            zoom: 8,\n            center: defaultLocation,\n            mapTypeControl: true,\n            streetViewControl: true,\n            fullscreenControl: true\n        };\n\n        const mapElement = document.getElementById(\"map\");\n        if (!mapElement) {\n            debugUtils.error(\"Map\", \"Map element not found\");\n            return;\n        }\n\n        map = new google.maps.Map(mapElement, mapOptions);\n        debugUtils.info(\"Map\", \"Map initialized successfully\", { defaultLocation });\n    } catch (error) {\n        debugUtils.error(\"Map\", \"Error initializing map\", { error });\n    }\n}\n\nexport function showOnMap(lat, lng) {\n    debugUtils.info(\"Map\", \"Updating map position\", { lat, lng });\n\n    try {\n        if (!map) {\n            debugUtils.error(\"Map\", \"Map instance not found\");\n            return;\n        }\n\n        const position = { \n            lat: parseFloat(lat), \n            lng: parseFloat(lng) \n        };\n\n        if (isNaN(position.lat) || isNaN(position.lng)) {\n            debugUtils.error(\"Map\", \"Invalid coordinates\", position);\n            return;\n        }\n\n        map.setCenter(position);\n        map.setZoom(18);\n\n        if (marker) {\n            marker.setPosition(position);\n            debugUtils.info(\"Map\", \"Updated existing marker position\");\n        } else {\n            marker = new google.maps.Marker({\n                position: position,\n                map: map,\n                animation: google.maps.Animation.DROP\n            });\n            debugUtils.info(\"Map\", \"Created new marker\");\n        }\n    } catch (error) {\n        debugUtils.error(\"Map\", \"Error updating map\", { error });\n    }\n}\n","import { debugUtils } from './debug-utils.js';\nimport { API_ENDPOINTS, fetchDataPost } from './api.js';\nimport { PMT } from './utils.js';\n\nexport function resetFormValues() {\n    const formFields = [\n        \"buildingAge\",\n        \"livingArea\",\n        \"heatingType\",\n        \"heatingAge\",\n        \"newHeatingType\",\n        \"newHeatingPlace\",\n        \"dhw\",\n        \"dhwAge\",\n        \"newDhw\",\n        \"newDhwPlace\"\n    ];\n\n    formFields.forEach(fieldId => {\n        const element = document.getElementById(fieldId);\n        if (element) {\n            if (element.type === \"radio\") {\n                element.checked = false;\n            } else {\n                element.value = \"\";\n            }\n        }\n    });\n}\n\nexport function prefillFormFields(houseInfo) {\n    debugUtils.info(\"Form\", \"Prefilling form fields\", { houseInfo });\n\n    const fieldMappings = {\n        buildingAge: \"buildingAge\",\n        livingArea: \"livingArea\",\n        heatingType: \"heatingType\",\n        heatingAge: \"heatingAge\",\n        dhw: \"dhw\",\n        dhwAge: \"dhwAge\"\n    };\n\n    Object.entries(fieldMappings).forEach(([field, infoKey]) => {\n        const element = document.getElementById(field);\n        if (element && houseInfo[infoKey] !== undefined) {\n            element.value = houseInfo[infoKey];\n        }\n    });\n}\n\nexport async function calculateMonthlyPayment(params) {\n    try {\n        debugUtils.info(\"Calculation\", \"Calculating monthly payment\", { params });\n\n        if (!validateCalculationParams(params)) {\n            debugUtils.error(\"Calculation\", \"Invalid calculation parameters\");\n            return;\n        }\n\n        const results = await fetchDataPost(API_ENDPOINTS.calculation, params);\n        displayCalculationResults(results);\n    } catch (error) {\n        debugUtils.error(\"Calculation\", \"Error calculating payment\", { error });\n    }\n}\n\nfunction validateCalculationParams(params) {\n    const requiredFields = [\n        \"buildingAge\",\n        \"livingArea\",\n        \"heatingType\",\n        \"heatingAge\",\n        \"newHeatingType\"\n    ];\n\n    return requiredFields.every(field => {\n        const hasField = params[field] !== undefined && params[field] !== \"\";\n        if (!hasField) {\n            debugUtils.warn(\"Validation\", `Missing required field: ${field}`);\n        }\n        return hasField;\n    });\n}\n\nexport function displayCalculationResults(data) {\n    debugUtils.info(\"Display\", \"Showing calculation results\", { data });\n\n    const resultElements = {\n        totalCost: document.getElementById(\"totalCost\"),\n        subsidies: document.getElementById(\"subsidies\"),\n        netCost: document.getElementById(\"netCost\"),\n        monthlyPayment: document.getElementById(\"monthlyPayment\")\n    };\n\n    Object.entries(resultElements).forEach(([key, element]) => {\n        if (element && data[key] !== undefined) {\n            element.textContent = formatCurrency(data[key]);\n        }\n    });\n}\n\nfunction formatCurrency(amount) {\n    return new Intl.NumberFormat('de-CH', {\n        style: 'currency',\n        currency: 'CHF'\n    }).format(amount);\n}\n","import { debugUtils } from './debug-utils.js';\nimport { API_ENDPOINTS, fetchDataGet } from './api.js';\nimport { debounce } from './utils.js';\nimport { showOnMap } from './map-handler.js';\nimport { CHtoWGSlat, CHtoWGSlng } from './coordinates.js';\nimport { resetFormValues, prefillFormFields } from './form-handler.js';\n\nexport const handleAddressInput = debounce(async function () {\n    const address = document.getElementById(\"addressInput\").value.trim();\n    if (address.length === 0) {\n        return;\n    }\n    try {\n        const possibleAddresses = await fetchDataGet(\n            `${API_ENDPOINTS.possibleAddress}?address=${encodeURIComponent(address)}`\n        );\n        updateDropdown(possibleAddresses);\n        resetFormValues();\n    } catch (error) {\n        debugUtils.error(\"Address\", \"Error fetching possible addresses:\", error);\n    }\n}, 300);\n\nexport async function handleAddressSelection(eingangId) {\n    debugUtils.info(\"Address\", \"Handling address selection\", { eingangId });\n\n    try {\n        resetFormValues();\n\n        const houseInfo = await fetchDataGet(\n            `${API_ENDPOINTS.houseInfo}?eingangId=${eingangId}`\n        );\n        \n        debugUtils.info(\"Address\", \"Received house info\", { \n            coordinates: {\n                dkodeE: houseInfo.dkodeE,\n                dkodeN: houseInfo.dkodeN\n            }\n        });\n\n        prefillFormFields(houseInfo);\n\n        const eingangIdInput = document.querySelector('input[name=\"eingangId\"]');\n        if (eingangIdInput) {\n            eingangIdInput.value = eingangId;\n        } else {\n            debugUtils.error(\"Address\", \"eingangId input field not found\");\n        }\n\n        if (houseInfo.dkodeE && houseInfo.dkodeN) {\n            const lat = CHtoWGSlat(houseInfo.dkodeE, houseInfo.dkodeN);\n            const lng = CHtoWGSlng(houseInfo.dkodeE, houseInfo.dkodeN);\n            \n            debugUtils.info(\"Map\", \"Converting coordinates\", {\n                swiss: { E: houseInfo.dkodeE, N: houseInfo.dkodeN },\n                wgs84: { lat, lng }\n            });\n\n            showOnMap(lat, lng);\n        } else {\n            debugUtils.warn(\"Map\", \"No coordinates found in house info\");\n        }\n    } catch (error) {\n        debugUtils.error(\"Address\", \"Error fetching house info\", { error });\n    }\n}\n\nexport function updateDropdown(possibleAddresses) {\n    const dropdown = document.getElementById(\"myDropdown\");\n    dropdown.innerHTML = \"\";\n    \n    if (possibleAddresses && possibleAddresses.length > 0) {\n        possibleAddresses.forEach((address) => {\n            const div = document.createElement(\"div\");\n            div.textContent = address.address;\n            div.onclick = () => handleAddressSelection(address.eingangId);\n            dropdown.appendChild(div);\n        });\n        dropdown.classList.add(\"show\");\n    } else {\n        dropdown.classList.remove(\"show\");\n    }\n}\n","// Utility functions\nexport function debounce(func, delay) {\n    let timer;\n    return function () {\n        const context = this;\n        const args = arguments;\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n            func.apply(context, args);\n        }, delay);\n    };\n}\n\nexport function PMT(rate, nper, pv) {\n    const pvif = Math.pow(1 + rate, nper);\n    const pmt = (rate * pv * pvif) / (pvif - 1);\n    return pmt;\n}\n","// Swiss coordinate conversion functions\nexport function CHtoWGSlat(y, x) {\n    const y_aux = (y - 2600000) / 1000000;\n    const x_aux = (x - 1200000) / 1000000;\n\n    let lat =\n        16.9023892 +\n        3.238272 * x_aux -\n        0.270978 * Math.pow(y_aux, 2) -\n        0.002528 * Math.pow(x_aux, 2) -\n        0.0447 * Math.pow(y_aux, 2) * x_aux -\n        0.014 * Math.pow(x_aux, 3);\n\n    lat = (lat * 100) / 36;\n    return lat;\n}\n\nexport function CHtoWGSlng(y, x) {\n    const y_aux = (y - 2600000) / 1000000;\n    const x_aux = (x - 1200000) / 1000000;\n\n    let lng =\n        2.6779094 +\n        4.728982 * y_aux +\n        0.791484 * y_aux * x_aux +\n        0.1306 * y_aux * Math.pow(x_aux, 2) -\n        0.0436 * Math.pow(y_aux, 3);\n\n    lng = (lng * 100) / 36;\n    return lng;\n}\n","import { debugUtils } from './debug-utils.js';\n\nclass ProductManager {\n    constructor() {\n        this.cards = ['A', 'B', 'C'];\n    }\n\n    updateProductDisplay(item, suffix) {\n        try {\n            if (!item || !suffix) {\n                debugUtils.warn(\"Product\", \"Missing item or suffix for product display update\");\n                return false;\n            }\n\n            const heatPump = item.heatPump;\n            if (!heatPump) {\n                debugUtils.warn(\"Product\", \"No heat pump data available\");\n                return false;\n            }\n\n            debugUtils.info(\"Product\", `Updating product display for suffix ${suffix}`, { heatPump });\n            return true;\n        } catch (error) {\n            debugUtils.error(\"Product\", \"Error updating product display\", { error, suffix });\n            return false;\n        }\n    }\n\n    updatePrices(item, suffix) {\n        try {\n            const priceElement = document.getElementById(`totalPrice${suffix}`);\n            if (priceElement && item.totalPrice) {\n                priceElement.textContent = item.totalPrice;\n            }\n        } catch (error) {\n            debugUtils.error(\"Product\", \"Error updating prices\", { error, suffix });\n        }\n    }\n\n    updateSpecs(item, suffix) {\n        try {\n            if (item.specs) {\n                Object.entries(item.specs).forEach(([key, value]) => {\n                    const element = document.getElementById(`${key}${suffix}`);\n                    if (element) {\n                        element.textContent = value;\n                    }\n                });\n            }\n        } catch (error) {\n            debugUtils.error(\"Product\", \"Error updating specs\", { error, suffix });\n        }\n    }\n\n    updateCalculationNumbers(item, suffix) {\n        try {\n            const calculationFields = [\n                'serviceFeeValue',\n                'maintenanceValue',\n                'energyManagementValue',\n                'ratInsuranceValue',\n                'interestRateValue',\n                'taxValue'\n            ];\n\n            calculationFields.forEach(field => {\n                const element = document.getElementById(`${field}${suffix}`);\n                if (element && item[field]) {\n                    element.textContent = item[field];\n                }\n            });\n        } catch (error) {\n            debugUtils.error(\"Product\", \"Error updating calculation numbers\", { error, suffix });\n        }\n    }\n}\n\nexport const productManager = new ProductManager();\n","import { debugUtils } from './debug-utils.js';\nimport { productManager } from './product-manager.js';\n\nclass PaymentCalculator {\n    constructor() {\n        this.anzahlung = 0.1;\n        this.years = 60;\n    }\n\n    getNumberFromElement(elementId, defaultValue = 0) {\n        try {\n            const element = document.getElementById(elementId);\n            if (!element) {\n                debugUtils.warn(\"Payment\", `Element not found: ${elementId}`);\n                return defaultValue;\n            }\n            const rawValue = element.textContent.replace(/[^0-9.-]+/g, '');\n            const value = parseFloat(rawValue);\n            return isNaN(value) ? defaultValue : value;\n        } catch (error) {\n            debugUtils.error(\"Payment\", `Error parsing value for ${elementId}`, { error });\n            return defaultValue;\n        }\n    }\n\n    calculateProductMonthlyPayment(suffix) {\n        try {\n            // Get calculation values\n            const serviceFee = this.getNumberFromElement(`serviceFeeValue${suffix}`) / 100;\n            const maintenance = this.getNumberFromElement(`maintenanceValue${suffix}`);\n            const energyManagement = this.getNumberFromElement(`energyManagementValue${suffix}`);\n            const ratInsurance = this.getNumberFromElement(`ratInsuranceValue${suffix}`) / 100;\n            const interestRate = this.getNumberFromElement(`interestRateValue${suffix}`);\n            const tax = this.getNumberFromElement(`taxValue${suffix}`) / 100;\n            const totalCost = this.getNumberFromElement(`totalPrice${suffix}`);\n\n            debugUtils.info(\"Payment\", `Calculation values for product ${suffix}`, {\n                serviceFee, maintenance, energyManagement, ratInsurance, interestRate, tax, totalCost\n            });\n\n            // Calculate monthly payment\n            const downpayment = totalCost * this.anzahlung;\n            const principalAfterDownPayment = totalCost - downpayment;\n            const monthlyInterestRate = interestRate > 0 ? (interestRate / 100) / 12 : 1e-9;\n            const numberOfPayments = this.years;\n\n            const annuityFactor = (monthlyInterestRate * Math.pow(1 + monthlyInterestRate, numberOfPayments)) /\n                (Math.pow(1 + monthlyInterestRate, numberOfPayments) - 1);\n\n            const monthlyPaymentBase = principalAfterDownPayment * annuityFactor;\n            const additionalCosts = maintenance + energyManagement + (monthlyPaymentBase * serviceFee);\n            const subtotal = monthlyPaymentBase + additionalCosts;\n            const insuranceCost = subtotal * ratInsurance;\n            const totalNet = subtotal + insuranceCost;\n            const totalWithTax = totalNet * (1 + tax);\n            const monthlyPayment = Math.round(totalWithTax);\n\n            debugUtils.info(\"Payment\", `Monthly payment calculation for product ${suffix}`, {\n                downpayment,\n                principalAfterDownPayment,\n                monthlyPaymentBase,\n                additionalCosts,\n                totalNet,\n                monthlyPayment\n            });\n\n            // Update the DOM\n            const moPriceElement = document.getElementById(`moPrice${suffix}`);\n            if (moPriceElement) {\n                moPriceElement.textContent = monthlyPayment;\n            } else {\n                debugUtils.error(\"Payment\", `Monthly price element not found for product ${suffix}`);\n            }\n\n            return monthlyPayment;\n        } catch (error) {\n            debugUtils.error(\"Payment\", `Error calculating monthly payment for product ${suffix}`, { error });\n            return 0;\n        }\n    }\n\n    calculateAllMonthlyPayments() {\n        try {\n            const results = {};\n            productManager.cards.forEach(suffix => {\n                results[suffix] = this.calculateProductMonthlyPayment(suffix);\n            });\n            debugUtils.info(\"Payment\", \"Monthly payment calculations completed\", results);\n        } catch (error) {\n            debugUtils.error(\"Payment\", \"Error in monthly payment calculations\", { error });\n        }\n    }\n}\n\nexport const paymentCalculator = new PaymentCalculator();\n","import { debugUtils } from './debug-utils.js';\nimport { handleAddressInput } from './address-handler.js';\nimport { calculateMonthlyPayment } from './form-handler.js';\n\nexport function setupEventListeners() {\n    debugUtils.info(\"System\", \"Setting up event listeners\");\n\n    // Address input listener\n    const addressInput = document.getElementById(\"addressInput\");\n    if (addressInput) {\n        addressInput.addEventListener(\"input\", handleAddressInput);\n    }\n\n    // Form field listeners\n    const formFields = [\n        \"buildingAge\",\n        \"livingArea\",\n        \"heatingType\",\n        \"heatingAge\",\n        \"newHeatingType\",\n        \"newHeatingPlace\",\n        \"dhw\",\n        \"dhwAge\",\n        \"newDhw\",\n        \"newDhwPlace\"\n    ];\n\n    formFields.forEach(fieldId => {\n        const element = document.getElementById(fieldId);\n        if (element) {\n            element.addEventListener(\"change\", () => {\n                const formData = collectFormData();\n                calculateMonthlyPayment(formData);\n            });\n        }\n    });\n\n    // Payment method tabs\n    const paymentTabs = document.querySelectorAll('.payment-tab');\n    paymentTabs.forEach(tab => {\n        tab.addEventListener('click', () => updatePaymentMethod(tab));\n    });\n}\n\nfunction collectFormData() {\n    return {\n        buildingAge: document.getElementById(\"buildingAge\").value,\n        livingArea: document.getElementById(\"livingArea\").value,\n        heatingType: document.getElementById(\"heatingType\").value,\n        heatingAge: document.getElementById(\"heatingAge\").value,\n        newHeatingType: document.getElementById(\"newHeatingType\").value,\n        newHeatingPlace: document.getElementById(\"newHeatingPlace\").value,\n        dhw: document.getElementById(\"dhw\").value,\n        dhwAge: document.getElementById(\"dhwAge\").value,\n        newDhw: document.getElementById(\"newDhw\").value,\n        newDhwPlace: document.getElementById(\"newDhwPlace\").value\n    };\n}\n\nexport function updatePaymentMethod(selectedTab) {\n    const paymentTabs = document.querySelectorAll('.payment-tab');\n    paymentTabs.forEach(tab => {\n        tab.classList.remove('active');\n    });\n    selectedTab.classList.add('active');\n    \n    const paymentMethod = selectedTab.getAttribute('data-payment');\n    document.getElementById('chosenPayment').value = paymentMethod;\n    \n    calculateMonthlyPayment(collectFormData());\n}\n","// Import all required modules\nimport { debugUtils } from './debug-utils.js';\nimport { CHtoWGSlat, CHtoWGSlng } from './coordinates.js';\nimport { handleAddressInput, handleAddressSelection } from './address-handler.js';\nimport { fetchDataGet, fetchDataPost } from './api.js';\nimport { displayCalculationResults, updateDhpDisplay } from './display-handler.js';\nimport { validateCalculationParams } from './validation.js';\nimport { paymentCalculator } from './payment-calculator.js';\nimport { setupEventListeners } from './event-listeners.js';\nimport { initMap } from './map-handler.js';\n\n// Initialize debugging\ndebugUtils.setLevel(1); // Enable logging (0 would disable it)\nconsole.log(\"initialized\");\n\n// Initialize map when Google Maps API is loaded\nwindow.initMap = initMap;\n\n// Expose necessary functions to global scope for HTML event handlers\nwindow.handleAddressSelection = handleAddressSelection;\nwindow.displayCalculationResults = displayCalculationResults;\nwindow.calculateMonthlyPayment = paymentCalculator.calculateProductMonthlyPayment.bind(paymentCalculator);\n\n// Setup all event listeners when DOM is loaded\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    debugUtils.info(\"System\", \"Initializing application\");\n    setupEventListeners();\n    \n    // Initialize debug UI if in debug mode\n    if (debugUtils.getLevel() > 0) {\n        debugUtils.initializeDebugUI();\n    }\n    \n    // Set up initial display states\n    updateDhpDisplay();\n});\n","// display-handler.js\nimport { debugUtils } from './debug-utils.js';\n\nexport function displayCalculationResults(data) {\n    debugUtils.info(\"Display\", \"Displaying calculation results\", { data });\n\n    try {\n        // Display total costs\n        document.getElementById(\"totalCosts\").textContent = data.totalCosts;\n        document.getElementById(\"totalCostsWithoutSubvention\").textContent = data.totalCostsWithoutSubvention;\n        \n        // Display subventions\n        document.getElementById(\"subventionFederal\").textContent = data.subventionFederal;\n        document.getElementById(\"subventionCanton\").textContent = data.subventionCanton;\n        document.getElementById(\"subventionMunicipality\").textContent = data.subventionMunicipality;\n        document.getElementById(\"subventionTotal\").textContent = data.subventionTotal;\n        \n        // Display financing details\n        document.getElementById(\"financingAmount\").textContent = data.financingAmount;\n        document.getElementById(\"anzahlung\").textContent = data.anzahlung;\n        \n        // Update monthly payment displays\n        updateMonthlyPaymentDisplay(data);\n        \n        debugUtils.info(\"Display\", \"Calculation results displayed successfully\");\n    } catch (error) {\n        debugUtils.error(\"Display\", \"Error displaying calculation results\", { error });\n    }\n}\n\nfunction updateMonthlyPaymentDisplay(data) {\n    const monthlyPaymentElement = document.getElementById(\"monthlyPayment\");\n    const monthlyInterestElement = document.getElementById(\"monthlyInterest\");\n    \n    if (monthlyPaymentElement && data.monthlyPayment) {\n        monthlyPaymentElement.textContent = data.monthlyPayment.toFixed(2);\n    }\n    \n    if (monthlyInterestElement && data.monthlyInterest) {\n        monthlyInterestElement.textContent = data.monthlyInterest.toFixed(2);\n    }\n}\n\nexport function updateDhpDisplay() {\n    const newHeatingPlace = document.getElementById(\"newHeatingPlace\");\n    const dhpDiv = document.getElementById(\"dhp\");\n    \n    if (newHeatingPlace && dhpDiv) {\n        dhpDiv.style.display = newHeatingPlace.value === \"dhp\" ? \"block\" : \"none\";\n    }\n}\n"],"names":["debugLevel","debugUtils","setLevel","level","getLevel","log","category","message","data","timestamp","Date","toISOString","dataString","JSON","stringify","console","this","updateDebugUI","error","warn","info","debug","initializeDebugUI","document","getElementById","debugPanel","createElement","id","style","cssText","body","appendChild","entry","innerHTML","title","children","length","removeChild","firstChild","scrollTop","scrollHeight","API_ENDPOINTS","async","fetchDataGet","url","response","fetch","ok","Error","status","json","map","marker","resetFormValues","forEach","fieldId","element","type","checked","value","calculateMonthlyPayment","params","every","field","hasField","undefined","validateCalculationParams","results","method","headers","fetchDataPost","resultElements","totalCost","subsidies","netCost","monthlyPayment","Object","entries","key","amount","textContent","Intl","NumberFormat","currency","format","displayCalculationResults","handleAddressInput","func","delay","timer","context","args","arguments","clearTimeout","setTimeout","apply","debounce","address","trim","possibleAddresses","dropdown","div","onclick","handleAddressSelection","eingangId","classList","add","remove","updateDropdown","encodeURIComponent","houseInfo","coordinates","dkodeE","dkodeN","buildingAge","livingArea","heatingType","heatingAge","dhw","dhwAge","infoKey","prefillFormFields","eingangIdInput","querySelector","lat","y","x","y_aux","x_aux","Math","pow","CHtoWGSlat","lng","CHtoWGSlng","swiss","E","N","wgs84","position","parseFloat","isNaN","setCenter","setZoom","setPosition","google","maps","Marker","animation","Animation","DROP","showOnMap","productManager","constructor","cards","updateProductDisplay","item","suffix","heatPump","updatePrices","priceElement","totalPrice","updateSpecs","specs","updateCalculationNumbers","paymentCalculator","anzahlung","years","getNumberFromElement","elementId","defaultValue","rawValue","replace","calculateProductMonthlyPayment","serviceFee","maintenance","energyManagement","ratInsurance","interestRate","tax","downpayment","principalAfterDownPayment","monthlyInterestRate","numberOfPayments","monthlyPaymentBase","additionalCosts","subtotal","totalNet","totalWithTax","round","moPriceElement","calculateAllMonthlyPayments","setupEventListeners","addressInput","addEventListener","collectFormData","querySelectorAll","tab","selectedTab","paymentTabs","paymentMethod","getAttribute","updatePaymentMethod","newHeatingType","newHeatingPlace","newDhw","newDhwPlace","window","initMap","defaultLocation","mapOptions","zoom","center","mapTypeControl","streetViewControl","fullscreenControl","mapElement","Map","totalCosts","totalCostsWithoutSubvention","subventionFederal","subventionCanton","subventionMunicipality","subventionTotal","financingAmount","monthlyPaymentElement","monthlyInterestElement","toFixed","monthlyInterest","updateMonthlyPaymentDisplay","bind","dhpDiv","display","updateDhpDisplay"],"mappings":"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"}